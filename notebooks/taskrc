# taskrc for notebooks
# vim: filetype=sh :

# Use taskrc -h for help on built-in taskrc functions.
# To provide help for definitions in this file, add #Help tags, e.g.:
# function my_func {
    #Help: my_func is my first and only function...
# }
#

function die {
    echo "ERROR: $@" >&2
    exit 1
}

function convert_to_new_ipynb {
    #Help convert a notebook to new v4 format

    [[ -f $1 ]] || return $(die "Can't find $1")
    local xbf=${1%.*}
    jupyter nbconvert --to notebook ${xbf}.ipynb --output ${xbf}-v4.ipynb || return $(die "Failed converting ${xbf}.ipynb")
    mv ${xbf}-v4.ipynb ${xbf}.ipynb
}
